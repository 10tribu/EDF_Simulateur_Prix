<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="jcvasselon">
    <title>Comparatif tarifs EDF</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
    <div class="col-lg-8 mx-auto p-4 py-md-5">
        <header class="d-flex align-items-center pb-3 mb-5 border-bottom">
            <h1>Comparatif des offres EDF</h1>
            <p></p>
        </header>

        <main>
            <div id="presentationView">
                <p class="fs-5 col text-justify">
                    Cet outil va vous permettre de comparer les différents abonnements EDF en se basant sur l'historique
                    de votre consommation.<br /><br />
                    Le projet est en accès libre sur <a href="https://github.com/JC144/EDF_Simulateur_Prix">Github</a>
                    si vous voulez savoir comment il fonctionne.<br />
                    <strong>Tout est géré en local, aucune donnée n'est
                        transmise.</strong><br /><br />
                    Pour un résultat précis, il vous faudra<br />
                <ul>
                    <li>Avoir activé le suivi à la demi-heure sur votre compteur Linky</li>
                    <li>Avoir au moins un an de données (de Mars à Mars)</li>
                </ul>
                </p>

                <div class="border p-2 mt-4">
                    <p class="text-justify">
                        <strong>Notes: </strong>
                    <ul>
                        <li>Si vous comparez vos résultats avec le site d'EDF, ce comparatif intègre l'abonnement
                            mensuellement sans prorata journalier.</li>
                        <li>En l'absence d'historique, les jours sobriétés du tarif ZenFlex sont basés sur les jours
                            rouges
                            du tarif Tempo</li>
                    </ul>
                    </p>
                </div>
                <div class="d-grid gap-2">
                    <button type="button" class="btn btn-primary mt-4" id="startButton">Démarrer</button>
                </div>
            </div>

            <div id="importView">

                <div class="row mt-2 mb-4">

                    <div class="mb-4">
                        <label for="puissanceSouscrite" class="form-label">Votre puissance souscrite</label>
                        <select class="form-select form-select-lg" aria-label=".form-select-lg example"
                            id="puissanceSouscrite">
                            <option value="3">3 kVA</option>
                            <option value="6">6 kVA</option>
                            <option value="9" selected>9 kVA</option>
                            <option value="12">12 kVA</option>
                            <option value="15">15 kVA</option>
                            <option value="18">18 kVA</option>
                            <option value="24">24 kVA</option>
                            <option value="30">30 kVA</option>
                            <option value="36">36 kVA</option>
                        </select>
                        <div class="form-text" id="basic-addon4">
                            L'information est disponible sur votre compteur Linky, sur votre facture ou sur le site de
                            votre fournisseur.
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="jourZen" class="form-label">Choix du jour Zen Plus</label>
                        <select class="form-select form-select-lg" aria-label=".form-select-lg example"
                            id="jourZenPlus">
                            <option value="1" selected>Lundi</option>
                            <option value="3">Mercredi</option>
                            <option value="5">Vendredi</option>
                        </select>
                        <div class="form-text" id="basic-addon4">
                            Les forfaits Zen Plus ont un jour avantageux supplémentaire dans la semaine. Choisissez
                            celui qui vous convient pour la simulation.
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="csvFile" class="form-label">Votre export Linky</label>
                        <div class="input-group">
                            <input type="file" id="csvFile" accept=".csv" class="form-control form-control-lg" />
                        </div>
                        <div class="form-text" id="basic-addon4">
                            Fichier au format .csv <br />
                            EDF : mes-puissances-atteintes-30min-XXXX.csv <br />
                            Enedis : Enedis_Conso_Heure_DATEDEBUT-DATEFIN_XXXXX.csv
                        </div>
                    </div>

                    <div id="importError" class="alert alert-danger" role="alert">
                        Les données importées ne sont pas valides.
                    </div>

                    <button type="button" class="btn btn-primary mt-4" id="simulateButton" disabled>
                        Simuler les différents tarifs</button>
                </div>

                <hr />

                <div class="panel">
                    <div class="accordion accordion-flush" id="accordionHelper">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-accordionHelper">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#accordionHelperContainer" aria-expanded="false"
                                    aria-controls="accordionHelperContainer">
                                    Comment récupérer les données sur le site de votre fournisseur ?
                                </button>
                            </h2>
                            <div id="accordionHelperContainer" class="accordion-collapse collapse"
                                aria-labelledby="flush-accordionHelper" data-bs-parent="#accordionHelper">
                                <div class="accordion-body row">
                                    <div class="row mt-2">
                                        <ul class="nav nav-pills nav-fill mt-2" id="exportTabs">
                                            <li class="nav-item">
                                                <a class="nav-link active" aria-current="page" href="#edf">Depuis
                                                    EDF</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" href="#enedis">Depuis Enedis</a>
                                            </li>
                                        </ul>

                                        <div class="tab-content mt-4">

                                            <div class="tab-pane fade show active" id="edf">
                                                <p>
                                                <ol>
                                                    <li>Récupérez sur <a
                                                            href="https://equilibre.edf.fr/comprendre?dashboardOpenRequired=true">le
                                                            site
                                                            d'EDF</a> votre consommation. <br />
                                                    </li>
                                                    <li>Dézippez ce répertoire</li>
                                                    <li>Utilisez le fichier <span
                                                            class="font-weight-bold">"mes-puissances-atteintes-30min-XXXX.csv"</span>
                                                    </li>
                                                </ol>
                                                </p>
                                                <img class="mt-4 mb-4" src="./img/EDF1.png"
                                                    style="width: 100%; height: auto;"
                                                    alt="1ère étape pour télécharger les données sur le site EDF" />
                                                <img class="mt-4 mb-4" src="./img/EDF21.png"
                                                    style="width: 100%; height: auto;"
                                                    alt="2ème étape pour télécharger les données sur le site EDF" />
                                            </div>

                                            <div class="tab-pane fade" id="enedis">
                                                <ol>
                                                    <li>Rendez-vous sur <a
                                                            href="https://mon-compte-particulier.enedis.fr/mes-telechargements-mesures/">le
                                                            site
                                                            d'Enedis</a> votre consommation. <br />
                                                    </li>
                                                    <li>Cliquez sur "Nouveau Téléchargement"</li>
                                                    <li>Cliquez sur date de début et naviguez antérieurement jusqu'à la
                                                        plus vieille date
                                                        disponible</li>
                                                    <li>Cliquez sur "Télécharger mes données"</li>
                                                    <li>Utilisez le fichier <span
                                                            class="font-weight-bold">"Enedis_Conso_Heure_DATEDEBUT-DATEFIN_XXXXX.csv"</span>
                                                    </li>
                                                </ol>
                                                <img class="mt-4 mb-4" src="./img/Enedis1.png"
                                                    style="width: 100%; height: auto;"
                                                    alt="1ère étape pour télécharger les données sur le site Enedis" />
                                                <img class="mt-4 mb-4" src="./img/Enedis2.png"
                                                    style="width: 100%; height: auto;"
                                                    alt="2ème étape pour télécharger les données sur le site Enedis" />
                                                <img class="mt-4 mb-4" src="./img/Enedis3.png"
                                                    style="width: 100%; height: auto;"
                                                    alt="2ème étape pour télécharger les données sur le site Enedis" />

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="pricesResultView" class="container">
                <div id="pricesTitleRow" class="row">

                </div>

                <div id="pricesResultRow" class="row">

                </div>
            </div>
        </main>
    </div>

    <script src="./scripts/calculator.js"></script>
    <script src="./scripts/tarifs/bleu.js"></script>
    <script src="./scripts/tarifs/bleuHC.js"></script>
    <script src="./scripts/tarifs/tempo.js"></script>
    <script src="./scripts/tarifs/zenFlex.js"></script>
    <script src="./scripts/tarifs/zenWeekEnd.js"></script>
    <script src="./scripts/tarifs/zenWeekEndHC.js"></script>
    <script src="./scripts/tarifs/zenWeekEndPlus.js"></script>
    <script src="./scripts/tarifs/zenWeekEndPlusHC.js"></script>

    <script src="./scripts/edfParser.js"></script>
    <script src="./scripts/enedisParser.js"></script>
    <script src="./scripts/viewManager.js"></script>
    <script src="./scripts/main.js"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>

    <script>
        $(document).ready(function () {
            // Initialize the Bootstrap tab component
            $('#exportTabs a').click(function (e) {
                e.preventDefault();
                $(this).tab('show');
            });
        });
    </script>
</body>

</html>